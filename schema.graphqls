type Book {
  title: String!
  isbn: String
  id: ID!
  authors: [AuthorBookConnection!]!
}

type BookAggregate {
  count: Int!
}

type BookPageInfo {
  hasNextPage: Boolean
  hasPreviousPage: Boolean
  startCursor: String
  endCursor: String
}

type BookEdgeType {
  node: Book!
  cursor: String!
}

type PaginatedBookConnection {
  aggregate: BookAggregate!
  pageInfo: BookPageInfo!
  edges: [BookEdgeType!]!
}

type Author {
  name: String!
  id: ID!
  books(after: String, first: Int, before: String, last: Int): PaginatedBookConnection!
}

type AuthorBookConnection {
  id: ID!
  roles: [String!]
  author: Author!
}

type BookSeriesConnection {
  id: ID!
  serial: Float!
  book: Book!
}

type Series {
  title: String!
  id: ID!
  books: [BookSeriesConnection!]!
}

type Query {
  author(id: ID!): Author!
  book(id: ID!): Book!
  series(id: ID!): Series!
}

type Mutation {
  createAuthor(data: CreateAuthorInput!): Author!
  createBook(data: CreateBookInput!): Book!
  createSeries(data: CreateSeriesInput!): Series!
}

input CreateAuthorInput {
  name: String!
}

input CreateBookInput {
  title: String!
  isbn: String
  authors: [CreateBookAuthorsInput!]!
}

input CreateBookAuthorsInput {
  id: ID!
  roles: [String!]
}

input CreateSeriesInput {
  title: String!
  books: [CreateSeriesBooksInput!]!
  relatedBooks: [ID!]
}

input CreateSeriesBooksInput {
  id: ID!
  serial: Float!
}
